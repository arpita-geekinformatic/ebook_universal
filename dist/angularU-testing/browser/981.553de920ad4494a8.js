"use strict";(self.webpackChunkangularU_testing=self.webpackChunkangularU_testing||[]).push([[981],{3981:(b,l,s)=>{s.r(l),s.d(l,{ViewMoreModule:()=>w});var g=s(6895),p=s(4931),t=s(4650),m=s(2340),P=s(5830),M=s(7185),f=s(9470),C=s(5227),h=s(8669),u=s(7296);function v(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10),t.NdJ("click",function(){const r=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.detailBook(r._id,r.bookType))}),t.TgZ(2,"div",11)(3,"button",12),t._UZ(4,"img",13),t.qZA(),t.TgZ(5,"div",14),t._UZ(6,"img",15),t.qZA(),t.TgZ(7,"div",16)(8,"h2",17),t._uU(9),t.qZA(),t.TgZ(10,"p",17),t._uU(11),t.qZA(),t._UZ(12,"ul",18),t.qZA()()()()}if(2&n){const e=c.$implicit,o=t.oxw();t.xp6(4),t.Q6J("src","ebooks"==o.tabType?"assets/images/openBookIcon.svg":"assets/images/headphoneIcon.svg",t.LSH),t.xp6(2),t.Q6J("src",e.photo?o.IMAGE_URL+e.photo:"assets/images/smallDefaultBook.png",t.LSH),t.xp6(2),t.s9C("ngbTooltip",e.name),t.xp6(1),t.Oqu(e.name),t.xp6(1),t.s9C("ngbTooltip",e.author),t.xp6(1),t.Oqu(e.author),t.xp6(1),t.Q6J("innerHtml",o.getRating(e.rating),t.oJD)}}function O(n,c){1&n&&(t.TgZ(0,"div",1),t.ynx(1),t.TgZ(2,"div",2)(3,"div",5)(4,"div",19)(5,"div",20)(6,"div",21)(7,"div",11)(8,"div",14),t._UZ(9,"span",22),t.qZA(),t._UZ(10,"div",16),t.qZA()()(),t.TgZ(11,"div",20)(12,"div",21)(13,"div",11)(14,"div",14),t._UZ(15,"span",22),t.qZA(),t._UZ(16,"div",16),t.qZA()()(),t.TgZ(17,"div",20)(18,"div",21)(19,"div",11)(20,"div",14),t._UZ(21,"span",22),t.qZA(),t._UZ(22,"div",16),t.qZA()()(),t.TgZ(23,"div",20)(24,"div",21)(25,"div",11)(26,"div",14),t._UZ(27,"span",22),t.qZA(),t._UZ(28,"div",16),t.qZA()()()()()(),t.BQk(),t.qZA())}const x=[{path:"",component:(()=>{class n{constructor(e,o,a,r,i){this.apiService=e,this.route=o,this.router=a,this.toastr=r,this.platformId=i,this.tabType="",this.dataList=[],this.ratings=[],this.modifiedGenre=[],this.category="",this.updatetype="",this.id="",this.IMAGE_URL=m.N.IMAGE_URL,this.skip=0,this.totalRecords=0,this.showSpin=!1,this.errorMessage="",this.pageType=""}ngOnInit(){(0,g.NF)(this.platformId)&&window.scroll({top:0,left:0,behavior:"smooth"}),this.route.queryParams.subscribe(e=>{this.category=null!=e.category?e.category:null,this.updatetype=null!=e.type?e.type:null,this.id=null!=e.id?e.id:null,this.pageType=null!=e.pageType?e.pageType:null,setTimeout(()=>{null!=this.category&&null!=this.updatetype&&this.updateAudioBook(this.updatetype,this.category,this.skip,8),null!=this.id&&null!=this.category&&this.getCategoryByBook(this.id,this.skip,8),null!=this.id&&"genre"==this.updatetype&&this.getBookByGenre(this.id,this.skip,8)},4e3)})}updateAudioBook(e,o,a,r){this.showSpin=!0,this.tabType=e,this.apiService.getData(`web/dataList/?type=${e}&category=${o}&skip=${a}&limit=${r}`).subscribe(d=>{this.dataList.push(...d.data),this.totalRecords=d.totalRecord,this.errorMessage=null==d.data||d.data.length<1?"No record found !!!":"",this.showSpin=!1},d=>{this.toastr.error(d.error.responseMessage,"Error!"),this.showSpin=!1})}detailBook(e,o){this.router.navigate(["detail/"],null!=this.id?{queryParams:{id:e,type:"Audiobook"==o?"audiobooks":"ebooks"}}:{queryParams:{id:e,type:this.tabType}})}getRating(e){let o=e.toString().split(".")[0],a=e.toString().split(".")[1];var r=[0,1,2,3,4];let i="";for(let d=0;d<r.length;d++)o<=d?a?(i+='<li ><img src="assets/images/halfStarRating.svg" alt="Star half" height=20; width=20; /></li>',a=void 0):i+='<li ><img src="assets/images/starBlankIcon.svg" alt="Star blank" height=20; width=20; /></li>':i+='<li ><img src="assets/images/starFillIcon.svg" alt="Star FIll" height=20; width=20; /></li>';return i}getType(e){this.tabType=e,"audiobooks"===e&&(this.dataList=[],this.skip=0,this.router.navigate(["/view-more/"],{queryParams:{type:e,category:this.category}})),"ebooks"===e&&(this.dataList=[],this.skip=0,this.router.navigate(["/view-more/"],{queryParams:{type:e,category:this.category}}))}onScroll(){this.showSpin=!0,0==this.skip&&this.dataList.length<1&&(this.skip=0),this.dataList.length!=this.totalRecords&&(this.skip=this.skip+10,setTimeout(()=>{null!=this.category&&this.updateAudioBook(this.updatetype,this.category,this.skip,10),null!=this.id&&this.getCategoryByBook(this.id,this.skip,10),null!=this.id&&"genre"==this.updatetype&&this.getBookByGenre(this.id,this.skip,10)},1e3))}getCategoryByBook(e,o,a){this.showSpin=!0,this.apiService.getData(`web/bookByCategory/${e}?skip=${o}&limit=${a}`).subscribe(i=>{this.dataList.push(...i.data),this.totalRecords=i.totalRecord,this.errorMessage=null==i.data||i.data.length<1?"No record found !!!":"",this.showSpin=!1},i=>{this.toastr.error(i.error.responseMessage,"Error!"),this.showSpin=!1})}getBookByGenre(e,o,a){this.showSpin=!0,this.apiService.getData(`web/bookByGenre/${e}?skip=${o}&limit=${a}`).subscribe(i=>{this.dataList.push(...i.data),this.totalRecords=i.totalRecord,this.errorMessage=null==i.data||i.data.length<1?"No record found !!!":"",this.showSpin=!1},i=>{this.toastr.error(i.error.responseMessage,"Error!"),this.showSpin=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.s),t.Y36(p.gz),t.Y36(p.F0),t.Y36(M._W),t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-more"]],decls:15,vars:5,consts:[[3,"newItemEvent"],[1,"contentPart"],[1,"container"],[1,"productTitle"],[1,"d-flex","justify-content-between","align-items-center","productTitleInner","mb-4"],[1,"productline"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","scrolled"],["class","col-md-4 col-sm-12 mb-5 five-image-row",4,"ngFor","ngForOf"],["class","contentPart",4,"ngIf"],[1,"col-md-4","col-sm-12","mb-5","five-image-row"],[1,"singleProduct",3,"click"],[1,"singleProductInner"],[1,"bookBtn","yellow"],["alt","Book icon",3,"src"],[1,"productImage"],["alt","prduct Image",3,"src"],[1,"productTxt"],["placement","top",3,"ngbTooltip"],[1,"ratingWrap",3,"innerHtml"],[1,"row"],[1,"col-md-3","mb-4"],[1,"singleProduct","shimmer"],[1,""]],template:function(e,o){1&e&&(t.TgZ(0,"app-header",0),t.NdJ("newItemEvent",function(r){return o.getType(r)}),t.qZA(),t.TgZ(1,"div",1),t.ynx(2),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",5)(9,"div",6),t.NdJ("scrolled",function(){return o.onScroll()}),t.YNc(10,v,13,7,"div",7),t.TgZ(11,"h6"),t._uU(12),t.qZA()()()(),t.BQk(),t.qZA(),t.YNc(13,O,29,0,"div",8),t._UZ(14,"app-footer")),2&e&&(t.xp6(7),t.Oqu(o.category),t.xp6(2),t.Q6J("infiniteScrollDistance",.1),t.xp6(1),t.Q6J("ngForOf",o.dataList),t.xp6(2),t.Oqu(o.errorMessage),t.xp6(1),t.Q6J("ngIf",o.showSpin))},dependencies:[g.sg,g.O5,f.G,C.c,h._L,u.Ry],styles:['.contentPart[_ngcontent-%COMP%]{padding:50px 0}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #0000001a;border-radius:0 0 3px 3px;height:100%;position:relative;width:230px;cursor:pointer}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   button.bookBtn[_ngcontent-%COMP%]{position:absolute;background:#3080FF;width:50px;height:50px;border-radius:100px;border:1px solid #3080FF;right:0;top:-20px;z-index:3}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;height:346px}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]{padding:12px 10px}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:15px;letter-spacing:-.03em;color:#000;text-transform:capitalize;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;position:relative}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:18px;line-height:15px;color:#000;opacity:.75;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;position:relative}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin-bottom:0}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:5px}.productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]     li{margin-right:5px}.five-image-row[_ngcontent-%COMP%]{width:25%;margin-top:10px}.shimmer[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#ebebeb calc(50% - 100px),#c5c5c5 50%,#ebebeb calc(50% + 100px));background-size:0;height:200px;position:relative;overflow:hidden}.shimmer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:calc(200% + 200px);bottom:0;background-image:inherit;animation:move 2s linear infinite}@keyframes move{to{transform:translate(calc(50% + 100px))}}.productTitleInner[_ngcontent-%COMP%]   h2.shimmer[_ngcontent-%COMP%]{height:50px;width:100%}.singleProduct.shimmer[_ngcontent-%COMP%]{height:300px!important}@media only screen and (max-width: 1199px){.five-image-row[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width: 1199px){.five-image-row[_ngcontent-%COMP%]{width:33%;margin-top:10px}}@media only screen and (max-width: 991px){.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;min-height:200px}}@media only screen and (max-width: 575px){.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:inherit;min-height:inherit}}@media only screen and (max-width: 767px){.five-image-row[_ngcontent-%COMP%]{width:50%}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]{padding:12px 4px}img.starLine[_ngcontent-%COMP%], .contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img.starLine[_ngcontent-%COMP%]{width:12px}}@media only screen and (max-width: 480px){.five-image-row[_ngcontent-%COMP%]{width:100%}}']}),n})()}];let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(x),p.Bz]}),n})();var y=s(4466);let w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,_,y.m,h.IJ,u.Rq]}),n})()}}]);