"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=981,exports.ids=[981],exports.modules={43981:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ViewMoreModule:()=>ViewMoreModule});var common=__webpack_require__(69808),router=__webpack_require__(74202),core=__webpack_require__(5e3),environment=__webpack_require__(92340),api_service=__webpack_require__(5830),ngx_toastr=__webpack_require__(22290),header_component=__webpack_require__(89470),footer_component=__webpack_require__(45227),ng_bootstrap=__webpack_require__(22446),ngx_infinite_scroll=__webpack_require__(87408);function ViewMoreComponent_div_10_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"div",9)(1,"div",10),core.NdJ("click",__name(function(){const data_r2=core.CHM(_r5).$implicit,ctx_r4=core.oxw();return core.KtG(ctx_r4.detailBook(data_r2._id,data_r2.bookType))},"ViewMoreComponent_div_10_Template_div_click_1_listener")),core.TgZ(2,"div",11)(3,"button",12),core._UZ(4,"img",13),core.qZA(),core.TgZ(5,"div",14),core._UZ(6,"img",15),core.qZA(),core.TgZ(7,"div",16)(8,"h2",17),core._uU(9),core.qZA(),core.TgZ(10,"p",17),core._uU(11),core.qZA(),core._UZ(12,"ul",18),core.qZA()()()()}if(2&rf){const data_r2=ctx.$implicit,ctx_r0=core.oxw();core.xp6(4),core.Q6J("src","ebooks"==ctx_r0.tabType?"assets/images/openBookIcon.svg":"assets/images/headphoneIcon.svg",core.LSH),core.xp6(2),core.Q6J("src",data_r2.photo?ctx_r0.IMAGE_URL+data_r2.photo:"assets/images/smallDefaultBook.png",core.LSH),core.xp6(2),core.s9C("ngbTooltip",data_r2.name),core.xp6(1),core.Oqu(data_r2.name),core.xp6(1),core.s9C("ngbTooltip",data_r2.author),core.xp6(1),core.Oqu(data_r2.author),core.xp6(1),core.Q6J("innerHtml",ctx_r0.getRating(data_r2.rating),core.oJD)}}function ViewMoreComponent_div_13_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",1),core.ynx(1),core.TgZ(2,"div",2)(3,"div",5)(4,"div",19)(5,"div",20)(6,"div",21)(7,"div",11)(8,"div",14),core._UZ(9,"span",22),core.qZA(),core._UZ(10,"div",16),core.qZA()()(),core.TgZ(11,"div",20)(12,"div",21)(13,"div",11)(14,"div",14),core._UZ(15,"span",22),core.qZA(),core._UZ(16,"div",16),core.qZA()()(),core.TgZ(17,"div",20)(18,"div",21)(19,"div",11)(20,"div",14),core._UZ(21,"span",22),core.qZA(),core._UZ(22,"div",16),core.qZA()()(),core.TgZ(23,"div",20)(24,"div",21)(25,"div",11)(26,"div",14),core._UZ(27,"span",22),core.qZA(),core._UZ(28,"div",16),core.qZA()()()()()(),core.BQk(),core.qZA())}__name(ViewMoreComponent_div_10_Template,"ViewMoreComponent_div_10_Template"),__name(ViewMoreComponent_div_13_Template,"ViewMoreComponent_div_13_Template");class ViewMoreComponent{constructor(apiService,route,router2,toastr,platformId){this.apiService=apiService,this.route=route,this.router=router2,this.toastr=toastr,this.platformId=platformId,this.tabType="",this.dataList=[],this.ratings=[],this.modifiedGenre=[],this.category="",this.updatetype="",this.id="",this.IMAGE_URL=environment.N.IMAGE_URL,this.skip=0,this.totalRecords=0,this.showSpin=!1,this.errorMessage="",this.pageType=""}ngOnInit(){(0,common.NF)(this.platformId)&&window.scroll({top:0,left:0,behavior:"smooth"}),this.route.queryParams.subscribe(params=>{this.category=null!=params.category?params.category:null,this.updatetype=null!=params.type?params.type:null,this.id=null!=params.id?params.id:null,this.pageType=null!=params.pageType?params.pageType:null,setTimeout(()=>{null!=this.category&&null!=this.updatetype&&this.updateAudioBook(this.updatetype,this.category,this.skip,8),null!=this.id&&null!=this.category&&this.getCategoryByBook(this.id,this.skip,8),null!=this.id&&"genre"==this.updatetype&&this.getBookByGenre(this.id,this.skip,8)},4e3)})}updateAudioBook(type,category,skip,limit){this.showSpin=!0,this.tabType=type,this.apiService.getData(`web/dataList/?type=${type}&category=${category}&skip=${skip}&limit=${limit}`).subscribe(result=>{this.dataList.push(...result.data),this.totalRecords=result.totalRecord,this.errorMessage=null==result.data||result.data.length<1?"No record found !!!":"",this.showSpin=!1},error=>{this.toastr.error(error.error.responseMessage,"Error!"),this.showSpin=!1})}detailBook(id,type){null!=this.id?this.router.navigate(["detail/"],{queryParams:{id,type:"Audiobook"==type?"audiobooks":"ebooks"}}):this.router.navigate(["detail/"],{queryParams:{id,type:this.tabType}})}getRating(data){let beforePointValue=data.toString().split(".")[0],afterPointValue=data.toString().split(".")[1];var temp=[0,1,2,3,4];let html="";for(let i=0;i<temp.length;i++)beforePointValue<=i?afterPointValue?(html+='<li ><img src="assets/images/halfStarRating.svg" alt="Star half" height=20; width=20; /></li>',afterPointValue=void 0):html+='<li ><img src="assets/images/starBlankIcon.svg" alt="Star blank" height=20; width=20; /></li>':html+='<li ><img src="assets/images/starFillIcon.svg" alt="Star FIll" height=20; width=20; /></li>';return html}getType(event){this.tabType=event,"audiobooks"===event&&(this.dataList=[],this.skip=0,this.router.navigate(["/view-more/"],{queryParams:{type:event,category:this.category}})),"ebooks"===event&&(this.dataList=[],this.skip=0,this.router.navigate(["/view-more/"],{queryParams:{type:event,category:this.category}}))}onScroll(){this.showSpin=!0,0==this.skip&&this.dataList.length<1&&(this.skip=0),this.dataList.length!=this.totalRecords&&(this.skip=this.skip+10,setTimeout(()=>{null!=this.category&&this.updateAudioBook(this.updatetype,this.category,this.skip,10),null!=this.id&&this.getCategoryByBook(this.id,this.skip,10),null!=this.id&&"genre"==this.updatetype&&this.getBookByGenre(this.id,this.skip,10)},1e3))}getCategoryByBook(id,skip,limit){this.showSpin=!0,this.apiService.getData(`web/bookByCategory/${id}?skip=${skip}&limit=${limit}`).subscribe(result=>{this.dataList.push(...result.data),this.totalRecords=result.totalRecord,this.errorMessage=null==result.data||result.data.length<1?"No record found !!!":"",this.showSpin=!1},error=>{this.toastr.error(error.error.responseMessage,"Error!"),this.showSpin=!1})}getBookByGenre(id,skip,limit){this.showSpin=!0,this.apiService.getData(`web/bookByGenre/${id}?skip=${skip}&limit=${limit}`).subscribe(result=>{this.dataList.push(...result.data),this.totalRecords=result.totalRecord,this.errorMessage=null==result.data||result.data.length<1?"No record found !!!":"",this.showSpin=!1},error=>{this.toastr.error(error.error.responseMessage,"Error!"),this.showSpin=!1})}}__name(ViewMoreComponent,"ViewMoreComponent"),ViewMoreComponent.\u0275fac=__name(function(t){return new(t||ViewMoreComponent)(core.Y36(api_service.s),core.Y36(router.gz),core.Y36(router.F0),core.Y36(ngx_toastr._W),core.Y36(core.Lbi))},"ViewMoreComponent_Factory"),ViewMoreComponent.\u0275cmp=core.Xpm({type:ViewMoreComponent,selectors:[["app-view-more"]],decls:15,vars:5,consts:[[3,"newItemEvent"],[1,"contentPart"],[1,"container"],[1,"productTitle"],[1,"d-flex","justify-content-between","align-items-center","productTitleInner","mb-4"],[1,"productline"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","scrolled"],["class","col-md-4 col-sm-12 mb-5 five-image-row",4,"ngFor","ngForOf"],["class","contentPart",4,"ngIf"],[1,"col-md-4","col-sm-12","mb-5","five-image-row"],[1,"singleProduct",3,"click"],[1,"singleProductInner"],[1,"bookBtn","yellow"],["alt","Book icon",3,"src"],[1,"productImage"],["alt","prduct Image",3,"src"],[1,"productTxt"],["placement","top",3,"ngbTooltip"],[1,"ratingWrap",3,"innerHtml"],[1,"row"],[1,"col-md-3","mb-4"],[1,"singleProduct","shimmer"],[1,""]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"app-header",0),core.NdJ("newItemEvent",__name(function($event){return ctx.getType($event)},"ViewMoreComponent_Template_app_header_newItemEvent_0_listener")),core.qZA(),core.TgZ(1,"div",1),core.ynx(2),core.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),core._uU(7),core.qZA()()(),core.TgZ(8,"div",5)(9,"div",6),core.NdJ("scrolled",__name(function(){return ctx.onScroll()},"ViewMoreComponent_Template_div_scrolled_9_listener")),core.YNc(10,ViewMoreComponent_div_10_Template,13,7,"div",7),core.TgZ(11,"h6"),core._uU(12),core.qZA()()()(),core.BQk(),core.qZA(),core.YNc(13,ViewMoreComponent_div_13_Template,29,0,"div",8),core._UZ(14,"app-footer")),2&rf&&(core.xp6(7),core.Oqu(ctx.category),core.xp6(2),core.Q6J("infiniteScrollDistance",.1),core.xp6(1),core.Q6J("ngForOf",ctx.dataList),core.xp6(2),core.Oqu(ctx.errorMessage),core.xp6(1),core.Q6J("ngIf",ctx.showSpin))},"ViewMoreComponent_Template"),dependencies:[common.sg,common.O5,header_component.G,footer_component.c,ng_bootstrap._L,ngx_infinite_scroll.Ry],styles:['.contentPart[_ngcontent-%COMP%]{padding:50px 0}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #0000001a;border-radius:0 0 3px 3px;height:100%;position:relative;width:230px;cursor:pointer}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   button.bookBtn[_ngcontent-%COMP%]{position:absolute;background:#3080FF;width:50px;height:50px;border-radius:100px;border:1px solid #3080FF;right:0;top:-20px;z-index:3}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;height:346px}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]{padding:12px 10px}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:15px;letter-spacing:-.03em;color:#000;text-transform:capitalize;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;position:relative}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:18px;line-height:15px;color:#000;opacity:.75;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;position:relative}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin-bottom:0}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:5px}.productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]     li{margin-right:5px}.five-image-row[_ngcontent-%COMP%]{width:25%;margin-top:10px}.shimmer[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#ebebeb calc(50% - 100px),#c5c5c5 50%,#ebebeb calc(50% + 100px));background-size:0;height:200px;position:relative;overflow:hidden}.shimmer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:calc(200% + 200px);bottom:0;background-image:inherit;animation:move 2s linear infinite}@keyframes move{to{transform:translate(calc(50% + 100px))}}.productTitleInner[_ngcontent-%COMP%]   h2.shimmer[_ngcontent-%COMP%]{height:50px;width:100%}.singleProduct.shimmer[_ngcontent-%COMP%]{height:300px!important}@media only screen and (max-width: 1199px){.five-image-row[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width: 1199px){.five-image-row[_ngcontent-%COMP%]{width:33%;margin-top:10px}}@media only screen and (max-width: 991px){.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;min-height:200px}}@media only screen and (max-width: 575px){.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:inherit;min-height:inherit}}@media only screen and (max-width: 767px){.five-image-row[_ngcontent-%COMP%]{width:50%}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]{padding:12px 4px}img.starLine[_ngcontent-%COMP%], .contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img.starLine[_ngcontent-%COMP%]{width:12px}}@media only screen and (max-width: 480px){.five-image-row[_ngcontent-%COMP%]{width:100%}}']});const routes=[{path:"",component:ViewMoreComponent}];class ViewMoreRoutingModule{}__name(ViewMoreRoutingModule,"ViewMoreRoutingModule"),ViewMoreRoutingModule.\u0275fac=__name(function(t){return new(t||ViewMoreRoutingModule)},"ViewMoreRoutingModule_Factory"),ViewMoreRoutingModule.\u0275mod=core.oAB({type:ViewMoreRoutingModule}),ViewMoreRoutingModule.\u0275inj=core.cJS({imports:[router.Bz.forChild(routes),router.Bz]});var shared_module=__webpack_require__(44466);class ViewMoreModule{}__name(ViewMoreModule,"ViewMoreModule"),ViewMoreModule.\u0275fac=__name(function(t){return new(t||ViewMoreModule)},"ViewMoreModule_Factory"),ViewMoreModule.\u0275mod=core.oAB({type:ViewMoreModule}),ViewMoreModule.\u0275inj=core.cJS({imports:[common.ez,ViewMoreRoutingModule,shared_module.m,ng_bootstrap.IJ,ngx_infinite_scroll.Rq]})}};