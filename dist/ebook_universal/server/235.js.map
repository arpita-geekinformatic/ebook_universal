{"version":3,"file":"235.js","mappings":"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","sources":["./src/app/layout/newsletter/newsletter-routing.module.ts","./src/app/layout/newsletter/newsletter.component.ts","./src/app/layout/newsletter/newsletter.component.html","./src/app/layout/newsletter/newsletter.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NewsletterComponent } from './newsletter.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewsletterComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NewsletterRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Meta, Title } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-newsletter',\n  templateUrl: './newsletter.component.html',\n  styleUrls: ['./newsletter.component.scss']\n})\n\nexport class NewsletterComponent implements OnInit {\n  newsletterForm!: FormGroup;\n  emailRegex = /^[a-z0-9._-]+@[a-z0-9.-]+\\.[a-z]{2,6}$/;\n  submitted = false;\n  hasError: boolean = false;\n  hasErrorCheckbox: boolean = false;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private apiService: ApiService,\n    private toastr: ToastrService,\n    private router: Router,\n    private titleService: Title,\n    private metaService: Meta,\n  ) { }\n\n  ngOnInit(): void {\n    this.newsletterForm = this.formBuilder.group({\n      email: [\"\", Validators.compose([\n        Validators.required,\n        Validators.email,\n        Validators.pattern(this.emailRegex),\n        Validators.minLength(3),\n        Validators.maxLength(320),\n      ])\n      ],\n    });\n\n    this.setMetaInfo();\n  }\n\n  setMetaInfo() {\n    let metaTitle = 'Paraksties uz Audiolasītavas jaunumiem';\n    let metaDescription = 'Seko visiem grāmatu jaunumiem, konkursiem un  platformas ziņām, ko Audiolasītava regulāri izsūta lietotājiem';\n    let metaUrl = window.location.href;\n\n    this.titleService.setTitle(metaTitle);\n    this.metaService.updateTag({ name: 'description', content: metaDescription });\n\n    this.metaService.addTag({ property: 'og:title', content: metaTitle });\n    this.metaService.addTag({ property: 'og:description', content: metaDescription });\n    this.metaService.addTag({ property: 'og:url', content: metaUrl });\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    if (this.newsletterForm.invalid) {\n      return;\n    }\n\n    console.log('this.newsletterForm', this.newsletterForm.value)\n    let obj = {\n      'email': this.newsletterForm.value.email,\n    }\n    this.apiService.postData('footer/contact', obj).subscribe(\n      (result: any) => {        \n        this.toastr.success('Thank you for subscribing our newsletter.', 'Success!'); \n      },\n      (error) => {\n        this.hasError = true;\n        if (error.error.responseCode == 403 || error.error.responseCode == 400) {\n          this.router.navigate(['/login'])\n        }\n        else{\n          this.toastr.error(error.error.responseMessage, 'Kļūda!');\n        }\n      }\n    );\n  }\n\n}\n","<app-header></app-header>\n<section class=\"newsletter-main\">\n    <div class=\"container\">\n        <div class=\"newsletter-content\">\n            <div class=\"newsletter-content__inner\">\n                <h1 class=\"modal__heading\">PIESAKIES TAGAD</h1>\n                <p>Pievienojieties mūsu arvien pieaugošajai grāmatu mīļotāju saimei, abonējot mūsu jaunumu lapu, un\n                    saņemiet jaunākās ziņas par grāmatām un podkāstiem. Labākie stāsti sākas Audiolasītava.lv</p>\n\n                <div class=\"email-box\">\n                    <form id=\"contact-form\" class=\"contact-form\" name=\"contact-form\" [formGroup]=\"newsletterForm\"\n                        (ngSubmit)=\"onSubmit()\">\n\n                        <input type=\"text\" formControlName=\"email\" name=\"email\" placeholder=\"E-pasta adrese\"\n                            class=\"form-control email-box__input\"\n                            [ngClass]=\"{'is-invalid': submitted && newsletterForm.controls['email'].invalid}\">\n\n                        <button type=\"submit\" class=\"email-box__button\"><i class=\"fa-paper-plane fa\"></i>\n                        </button>\n\n                        <div>\n                            <div class=\"text-danger\" *ngIf=\"\n                          submitted &&\n                          newsletterForm.get('email')?.hasError('required')\">\n                                Email is required.\n                            </div>\n                            <div class=\"text-danger\" *ngIf=\"\n                          submitted &&\n                          newsletterForm.get('email')?.hasError('pattern')\">\n                                Please enter valid address.\n                            </div>\n                        </div>\n                    </form>\n                </div>\n\n            </div>\n        </div>\n    </div>\n\n</section>\n<app-footer></app-footer>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NewsletterRoutingModule } from './newsletter-routing.module';\nimport { NewsletterComponent } from './newsletter.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [NewsletterComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NewsletterRoutingModule\n  ]\n})\nexport class NewsletterModule { }\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}