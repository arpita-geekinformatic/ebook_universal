{"version":3,"file":"794.js","mappings":"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","sources":["./src/app/layout/favourites/favourites-routing.module.ts","./src/app/layout/favourites/favourites.component.ts","./src/app/layout/favourites/favourites.component.html","./src/app/layout/favourites/favourites.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FavouritesComponent } from './favourites.component';\nconst routes: Routes = [{\n  path: '',\n  component: FavouritesComponent,\n},];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FavouritesRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { environment } from \"src/environments/environment\";\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-favourites',\n  templateUrl: './favourites.component.html',\n  styleUrls: ['./favourites.component.scss']\n})\nexport class FavouritesComponent implements OnInit {\n\n  favouriteList: any = [];\n  public IMAGE_URL = environment.IMAGE_URL;\n  totalRecords = 0;\n  skip = 0;\n  errorMessage: string = '';\n  showSpin = false;\n  token: any = '';\n\n  constructor(\n    private apiService: ApiService,\n    private router: Router,\n    private toastr: ToastrService,\n  ) { }\n\n  ngOnInit(): void {\n    this.token = localStorage.getItem('authorization')\n    if (this.token != null || this.token != undefined) {\n      this.getFavouriteList(this.skip);\n    }\n    // this.getFavouriteList(this.skip);\n  }\n\n  getType(event: any) {\n    console.log(\"Favourite Page\")\n  }\n\n  //  get favourite book list  //\n  getFavouriteList(skip: any) {\n    this.showSpin = true;\n    this.apiService.getData(`web/favourite?skip=${skip}&limit=10`).subscribe(\n      (res: any) => {        \n        this.favouriteList.push(...res.data);\n        this.totalRecords = res.totalRecord;\n        this.errorMessage = res.data == undefined || res.data.length < 1 ? 'No record found !!!' : ''\n        this.showSpin = false;\n      },\n      (error) => {        \n        this.showSpin = false;\n        this.toastr.error(error.error.responseMessage, 'Error!');\n        this.errorMessage = error.error.responseMessage;\n      }\n    );\n  }\n\n  //  get book details  //\n  detailBook(id: any, type: any) {\n    if (type.toLowerCase() == environment.tabType.podcast) {\n      this.router.navigate(\n        ['podcast-detail/'],\n        { queryParams: { 'id': id, 'type': type } }\n      );\n    }\n    else {\n      this.router.navigate(\n        ['detail/'],\n        { queryParams: { 'id': id, 'type': type } }\n      );\n    }\n  }\n\n  //  get book ratoing html  //\n  getRating(data: any) {\n    let beforePointValue = data.toString().split(\".\")[0]\n    let afterPointValue = data.toString().split(\".\")[1]\n    var temp: any = [0, 1, 2, 3, 4];\n    let html = '';\n    for (let i = 0; i < temp.length; i++) {\n      if (beforePointValue <= i) {\n        if (afterPointValue) {\n          html += `<li ><img src=\"assets/images/halfStarRating.svg\" alt=\"Star half\" height=20; width=20; /></li>`;\n          afterPointValue = undefined;\n        } else {\n          html += `<li ><img src=\"assets/images/starBlankIcon.svg\" alt=\"Star blank\" height=20; width=20; /></li>`\n        }\n      } else {\n        html += `<li ><img src=\"assets/images/starFillIcon.svg\" alt=\"Star FIll\" height=20; width=20; /></li>`;\n      }\n    }\n    return html;\n  }\n\n  //  on scroll pagination  //\n  onScroll() {\n    if (this.skip == 0 && this.favouriteList.length < 1) {\n      this.skip = 0;\n    }\n    if (this.favouriteList.length != this.totalRecords) {\n      this.skip = this.skip + 10;\n      setTimeout(() => {\n        this.getFavouriteList(this.skip)\n      }, 1000)\n    }\n  }\n}\n","<app-header (newItemEvent)=\"getType($event)\"></app-header>\n<div class=\"contentPart\">\n    <ng-container>\n        <div class=\"container\">\n            <div class=\"productline\">\n                <div class=\"row\" infiniteScroll [infiniteScrollDistance]=\"0.1\" (scrolled)=\"onScroll()\">\n                    <div class=\"col-sm-6 col-md-3 col-lg-3 mb-5\" *ngFor='let data of favouriteList; let i = index'>\n                        <div class=\"singleProduct\" (click)=\"detailBook(data['bookId'], data['bookType'])\">\n\n                            <div class=\"singleProductInner\">\n                                <!-- <button class=\"bookBtn yellow\"> -->\n                                <button\n                                    [ngClass]=\"data['bookType'].toLowerCase() == 'ebook'? 'ebookBtn'  : data['bookType'].toLowerCase() == 'audiobook'? 'audiobookBtn' : 'podcastBtn'\">\n                                    <img [src]=\"data['bookType'].toLowerCase() == 'ebook'? 'assets/images/openBookIcon.svg' : data['bookType'].toLowerCase() == 'audiobook'?\n                                    'assets/images/headphoneIcon.svg' : 'assets/images/mic.svg'\" alt=\"Book icon\" />\n                                </button>\n\n                                <div class=\"productImage\">\n                                    <img [src]=\"data.booksDetails.length > 0 ? this.IMAGE_URL + data.booksDetails[0].photo : data.podcastDetails.length > 0 ? this.IMAGE_URL + data.podcastDetails[0].image :  'assets/images/smallDefaultBook.png'\"\n                                        alt=\"prduct Image\" />\n                                </div>\n\n                                <div class=\"productTxt\">\n                                    <h2>{{ data.booksDetails.length > 0 ? data.booksDetails[0].name :\n                                        data.podcastDetails[0].name }}</h2>\n                                    <p>{{ data.booksDetails.length > 0 ? data.booksDetails[0].author :\n                                        data.podcastDetails[0].author }}</p>\n                                    <ul class=\"ratingWrap\"\n                                        [innerHtml]=\"getRating(data.booksDetails.length > 0 ? data.booksDetails[0].rating : data.podcastDetails[0].rating)\">\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <h6>{{ errorMessage }}</h6>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</div>\n\n<!-- Shimmer Start -->\n<div class=\"contentPart\" *ngIf=\"showSpin\">\n    <!-- <div class=\"contentPart\" *ngIf=\"favouriteList.length != totalRecords && favouriteList.length != 0\"> -->\n    <ng-container>\n        <div class=\"container\">\n            <div class=\"productline\">\n                <div class=\"row\">\n                    <div class=\"col-md-3 mb-4 \">\n                        <div class=\"singleProduct shimmer\">\n                            <div class=\"singleProductInner\">\n                                <div class=\"productImage\">\n                                    <span class=\"\"></span>\n                                </div>\n                                <div class=\"productTxt\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3 mb-4 \">\n                        <div class=\"singleProduct shimmer\">\n                            <div class=\"singleProductInner\">\n                                <div class=\"productImage\">\n                                    <span class=\"\"></span>\n                                </div>\n                                <div class=\"productTxt\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3 mb-4 \">\n                        <div class=\"singleProduct shimmer\">\n                            <div class=\"singleProductInner\">\n                                <div class=\"productImage\">\n                                    <span class=\"\"></span>\n                                </div>\n                                <div class=\"productTxt\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3 mb-4 \">\n                        <div class=\"singleProduct shimmer\">\n                            <div class=\"singleProductInner\">\n                                <div class=\"productImage\">\n                                    <span class=\"\"></span>\n                                </div>\n                                <div class=\"productTxt\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</div>\n<!-- Shimmer Ends -->\n<app-footer></app-footer>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FavouritesRoutingModule } from './favourites-routing.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { FavouritesComponent } from './favourites.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\n\n@NgModule({\n  declarations: [FavouritesComponent],\n  imports: [\n    CommonModule,\n    FavouritesRoutingModule,\n    SharedModule,\n    NgbModule,\n    InfiniteScrollModule\n  ]\n})\nexport class FavouritesModule { }\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}