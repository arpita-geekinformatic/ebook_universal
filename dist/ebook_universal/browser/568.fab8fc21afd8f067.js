"use strict";(self.webpackChunkebook_universal=self.webpackChunkebook_universal||[]).push([[568],{5568:(Z,p,i)=>{i.r(p),i.d(p,{FavouritesModule:()=>k});var g=i(6895),l=i(4931),t=i(4650),u=i(2340),P=i(5830),m=i(7185),v=i(9470),C=i(5227),h=i(7296);function M(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.detailBook(r.bookId,r.bookType))}),t.TgZ(2,"div",9)(3,"button",10),t._UZ(4,"img",11),t.qZA(),t.TgZ(5,"div",12),t._UZ(6,"img",13),t.qZA(),t.TgZ(7,"div",14)(8,"h2"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA(),t._UZ(12,"ul",15),t.qZA()()()()}if(2&o){const n=s.$implicit,e=t.oxw();t.xp6(3),t.Q6J("ngClass","ebook"==n.bookType.toLowerCase()?"ebookBtn":"audiobook"==n.bookType.toLowerCase()?"audiobookBtn":"podcastBtn"),t.xp6(1),t.Q6J("src","ebook"==n.bookType.toLowerCase()?"assets/images/openBookIcon.svg":"audiobook"==n.bookType.toLowerCase()?"assets/images/headphoneIcon.svg":"assets/images/mic.svg",t.LSH),t.xp6(2),t.Q6J("src",n.booksDetails.length>0?e.IMAGE_URL+n.booksDetails[0].photo:n.podcastDetails.length>0?e.IMAGE_URL+n.podcastDetails[0].image:"assets/images/smallDefaultBook.png",t.LSH),t.xp6(3),t.Oqu(n.booksDetails.length>0?n.booksDetails[0].name:n.podcastDetails[0].name),t.xp6(2),t.Oqu(n.booksDetails.length>0?n.booksDetails[0].author:n.podcastDetails[0].author),t.xp6(1),t.Q6J("innerHtml",e.getRating(n.booksDetails.length>0?n.booksDetails[0].rating:n.podcastDetails[0].rating),t.oJD)}}function O(o,s){1&o&&(t.TgZ(0,"div",1),t.ynx(1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",16)(5,"div",17)(6,"div",18)(7,"div",9)(8,"div",12),t._UZ(9,"span",19),t.qZA(),t._UZ(10,"div",14),t.qZA()()(),t.TgZ(11,"div",17)(12,"div",18)(13,"div",9)(14,"div",12),t._UZ(15,"span",19),t.qZA(),t._UZ(16,"div",14),t.qZA()()(),t.TgZ(17,"div",17)(18,"div",18)(19,"div",9)(20,"div",12),t._UZ(21,"span",19),t.qZA(),t._UZ(22,"div",14),t.qZA()()(),t.TgZ(23,"div",17)(24,"div",18)(25,"div",9)(26,"div",12),t._UZ(27,"span",19),t.qZA(),t._UZ(28,"div",14),t.qZA()()()()()(),t.BQk(),t.qZA())}const x=[{path:"",component:(()=>{class o{constructor(n,e,a,r){this.apiService=n,this.router=e,this.toastr=a,this.platformId=r,this.favouriteList=[],this.IMAGE_URL=u.N.IMAGE_URL,this.totalRecords=0,this.skip=0,this.errorMessage="",this.showSpin=!1,this.token=""}ngOnInit(){(0,g.NF)(this.platformId)&&(this.token=localStorage.getItem("authorization"),(null!=this.token||null!=this.token)&&this.getFavouriteList(this.skip))}getType(n){console.log("Favourite Page")}getFavouriteList(n){this.showSpin=!0,this.apiService.getData(`web/favourite?skip=${n}&limit=10`).subscribe(e=>{this.favouriteList.push(...e.data),this.totalRecords=e.totalRecord,this.errorMessage=null==e.data||e.data.length<1?"No record found !!!":"",this.showSpin=!1},e=>{this.showSpin=!1,this.toastr.error(e.error.responseMessage,"Error!"),this.errorMessage=e.error.responseMessage})}detailBook(n,e){e.toLowerCase()==u.N.tabType.podcast?this.router.navigate(["podcast-detail/"],{queryParams:{id:n,type:e}}):this.router.navigate(["detail/"],{queryParams:{id:n,type:e}})}getRating(n){let e=n.toString().split(".")[0],a=n.toString().split(".")[1];var r=[0,1,2,3,4];let c="";for(let d=0;d<r.length;d++)e<=d?a?(c+='<li ><img src="assets/images/halfStarRating.svg" alt="Star half" height=20; width=20; /></li>',a=void 0):c+='<li ><img src="assets/images/starBlankIcon.svg" alt="Star blank" height=20; width=20; /></li>':c+='<li ><img src="assets/images/starFillIcon.svg" alt="Star FIll" height=20; width=20; /></li>';return c}onScroll(){0==this.skip&&this.favouriteList.length<1&&(this.skip=0),this.favouriteList.length!=this.totalRecords&&(this.skip=this.skip+10,this.getFavouriteList(this.skip))}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(P.s),t.Y36(l.F0),t.Y36(m._W),t.Y36(t.Lbi))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-favourites"]],decls:11,vars:4,consts:[[3,"newItemEvent"],[1,"contentPart"],[1,"container"],[1,"productline"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","scrolled"],["class","col-sm-6 col-md-3 col-lg-3 mb-5",4,"ngFor","ngForOf"],["class","contentPart",4,"ngIf"],[1,"col-sm-6","col-md-3","col-lg-3","mb-5"],[1,"singleProduct",3,"click"],[1,"singleProductInner"],[3,"ngClass"],["alt","Book icon",3,"src"],[1,"productImage"],["alt","prduct Image",3,"src"],[1,"productTxt"],[1,"ratingWrap",3,"innerHtml"],[1,"row"],[1,"col-md-3","mb-4"],[1,"singleProduct","shimmer"],[1,""]],template:function(n,e){1&n&&(t.TgZ(0,"app-header",0),t.NdJ("newItemEvent",function(r){return e.getType(r)}),t.qZA(),t.TgZ(1,"div",1),t.ynx(2),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4),t.NdJ("scrolled",function(){return e.onScroll()}),t.YNc(6,M,13,6,"div",5),t.TgZ(7,"h6"),t._uU(8),t.qZA()()()(),t.BQk(),t.qZA(),t.YNc(9,O,29,0,"div",6),t._UZ(10,"app-footer")),2&n&&(t.xp6(5),t.Q6J("infiniteScrollDistance",.1),t.xp6(1),t.Q6J("ngForOf",e.favouriteList),t.xp6(2),t.Oqu(e.errorMessage),t.xp6(1),t.Q6J("ngIf",e.showSpin))},dependencies:[g.mk,g.sg,g.O5,v.G,C.c,h.Ry],styles:['.contentPart[_ngcontent-%COMP%]{padding:50px 0}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #0000001a;border-radius:0 0 3px 3px;height:100%;position:relative;width:230px;cursor:pointer}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   button.ebookBtn[_ngcontent-%COMP%]{position:absolute;background:#3080FF;width:50px;height:50px;border-radius:100px;border:1px solid #3080FF;right:0;top:-20px;z-index:3}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   button.audiobookBtn[_ngcontent-%COMP%]{position:absolute;background:#FF9D0C;width:50px;height:50px;border-radius:100px;border:1px solid #FF9D0C;right:0;top:-20px;z-index:3}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   button.podcastBtn[_ngcontent-%COMP%]{position:absolute;background:#03B0AE;width:50px;height:50px;border-radius:100px;border:1px solid #03B0AE;right:0;top:-20px;z-index:3}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;height:346px}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]{padding:12px 20px 20px}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:15px;letter-spacing:-.03em;color:#000;text-transform:capitalize}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:18px;line-height:15px;color:#000;opacity:.75}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;margin-bottom:0}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .productTxt[_ngcontent-%COMP%]   ul.ratingWrap[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:5px}.shimmer[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#ebebeb calc(50% - 100px),#c5c5c5 50%,#ebebeb calc(50% + 100px));background-size:0;height:200px;position:relative;overflow:hidden}.shimmer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:calc(200% + 200px);bottom:0;background-image:inherit;animation:move 2s linear infinite}@keyframes move{to{transform:translate(calc(50% + 100px))}}.productTitleInner[_ngcontent-%COMP%]   h2.shimmer[_ngcontent-%COMP%]{height:50px;width:100%}.singleProduct.shimmer[_ngcontent-%COMP%]{height:300px!important}@media only screen and (max-width: 991px){.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]{width:100%}.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;min-height:200px;width:100%}}@media only screen and (max-width: 575px){.contentPart[_ngcontent-%COMP%]   .productline[_ngcontent-%COMP%]   .singleProduct[_ngcontent-%COMP%]   .singleProductInner[_ngcontent-%COMP%]   .productImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:inherit;min-height:inherit}}']}),o})()}];let _=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(x),l.Bz]}),o})();var f=i(4466),b=i(8669);let k=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,_,f.m,b.IJ,h.Rq]}),o})()}}]);