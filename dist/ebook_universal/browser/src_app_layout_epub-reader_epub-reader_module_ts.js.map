{"version":3,"file":"src_app_layout_epub-reader_epub-reader_module_ts.js","mappings":"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","sources":["./src/app/layout/epub-reader/epub-reader-routing.module.ts","./src/app/layout/epub-reader/epub-reader.component.html","./src/app/layout/epub-reader/epub-reader.component.ts","./src/app/layout/epub-reader/epub-reader.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EpubReaderComponent } from './epub-reader.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EpubReaderComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EpubReaderRoutingModule { }\n","<app-header></app-header>\n<div class=\"contentPart\">\n\n    <div class=\"pdf-container my-5 container\">\n      <carousel [(activeSlide)]=\"activeSlideIndex\" [interval]=\"0\" *ngIf=\"!showSpin\" >\n        <slide *ngFor=\"let img of images; let i = index;\" class=\"text-center\">\n          <img [src]=\"img\" alt=\"slide {{i}}\" style=\"margin: 0 auto;max-width: 100%; display: block;\">\n        </slide>\n        \n      </carousel>\n      <div *ngIf=\"showSpin\" class=\"spinner-img\">\n          <img src=\"assets/images/loading-gif.gif\" style=\"width: 70px; height: 70px;margin: 0 auto; display: block;\" alt=\"\" srcset=\"\">\n      </div>\n    </div>\n\n    <div class=\"pdf-footer\" *ngIf=\"!showSpin\"> \n      <div class=\"pdf-footer__mini\">\n            <span (click)=\"prevSlide()\"><img src=\"assets/images/left.png\" alt=\"\"></span>\n            <span>{{activeSlideIndex + 1}} of {{totalPages}}</span>\n            <span (click)=\"nextSlide()\"><img src=\"assets/images/right.png\" alt=\"\"></span>\n        </div>\n    </div>\n</div>\n<app-footer></app-footer>","import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { ApiService } from 'src/app/services/api.service';\n\n@Component({\n  selector: 'app-epub-reader',\n  templateUrl: './epub-reader.component.html',\n  styleUrls: ['./epub-reader.component.scss']\n})\nexport class EpubReaderComponent implements OnInit {\n  updateid: any;\n  activeSlide = 0;\n  totalPages = 0;\n  loadIndex = 0;\n  images: any = [];\n  interval = false;\n  activeSlideIndex = 0;\n  showSpin = false;\n  detailId: any;\n  urlType: any;\n  chapterName: any;\n  \n  constructor(private route: ActivatedRoute, private _sanitizer: DomSanitizer, private apiService: ApiService) { }\n\n  ngOnInit(): void {\n    this.route.queryParams\n      .subscribe(params => {\n        this.updateid = params['id'] != undefined ? params['id'] : null;\n        if (params['id'] != undefined) {\n          this.detailId = params['id'];\n          this.urlType = params['urlType'];\n          this.chapterName = params['chapterName'];\n          this.getPdfData(this.detailId, this.urlType, this.chapterName);\n        }\n      }\n      );\n  }\n\n  async getPdfData(id: any, urlType: any, chapterName: any) {\n    this.showSpin = true;\n    let result: any\n    if (urlType == 'bookFragment') {\n      result = await this.apiService.getData(`web/eBook/bookFragment-pdf-data/${id}?index=${this.loadIndex}&urlType=${urlType}&chapterName=${chapterName}`).toPromise();\n    }\n    else {\n      result = await this.apiService.getData(`web/eBook/pdf-data/${id}?index=${this.loadIndex}&urlType=${urlType}&chapterName=${chapterName}`).toPromise();\n    }\n    if (result) {\n      console.log('result', result);\n      for (let iterator of result.pdfData) {\n        this.images.push(this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + iterator));\n      }\n      this.totalPages = result.totalPages;\n      this.loadIndex = result.index;\n      this.showSpin = false;\n    }\n\n  }\n\n  prevSlide() {\n    if (this.activeSlideIndex != 0) {\n      this.activeSlideIndex = this.activeSlideIndex - 1;\n    }\n  }\n\n  nextSlide() {\n    if (this.activeSlideIndex != this.images.length - 1) {\n      this.activeSlideIndex = this.activeSlideIndex + 1;\n      if (this.activeSlideIndex == 3) {\n        this.loadIndex += 1;\n        // this.getPdfData(this.detailId)\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\nimport { EpubReaderRoutingModule } from './epub-reader-routing.module';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ShareButtonsModule } from 'ngx-sharebuttons/buttons';\nimport { ShareIconsModule } from 'ngx-sharebuttons/icons';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { EpubReaderComponent } from './epub-reader.component';\nimport { CarouselModule } from 'ngx-bootstrap/carousel';\n\n@NgModule({\n  declarations: [EpubReaderComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    NgbModule,\n    ShareButtonsModule,\n    ShareIconsModule,\n    ReactiveFormsModule,\n    EpubReaderRoutingModule,\n    CarouselModule\n  ]\n})\nexport class EpubReaderModule { }\n"],"names":["i0","EpubReaderComponent","constructor","route","_sanitizer","apiService","ngOnInit","queryParams","subscribe","params","updateid","undefined","detailId","urlType","chapterName","getPdfData","id","showSpin","result","getData","loadIndex","toPromise","console","log","iterator","pdfData","images","push","bypassSecurityTrustResourceUrl","totalPages","index","prevSlide","activeSlideIndex","nextSlide","length","selectors","decls","vars","consts","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}